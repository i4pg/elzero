<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo&family=Open+Sans&family=Roboto&display=swap"
    rel="stylesheet">
  <title>Document</title>
  <style>
    :root {
      --fontOne: 'Cairo', sans-serif;
      --fontTwo: 'Open Sans', sans-serif;
      --fontThree: 'Roboto', sans-serif;
    }

    body {
      font-family: var(--fontOne);
      color: red;
      font-size: 16px;
      background-color: #eee;
    }

    h1 {
      text-align: center;
    }

    .fonts,
    .colors,
    .fonts-size {
      display: block;
      margin: 20px auto;
      padding: 10px;
      background-color: white;
      border: 1px solid #222;
      box-shadow: 0 0 10px 0 #777;
      border-radius: 5px;
    }
  </style>
</head>

<body>
  <h1>Hello This is test</h1>
  <select class="fonts" name="fonts" id="fonts">
    <option class="active" value="var(--fontOne)">Open Sans</option>
    <option value="var(--fontTwo)">Cairo</option>
    <option value="var(--fontThree)">Roboto</option>
  </select>
  <select class="colors" name="colors" id="colors">
    <option class="active" value="red">Red</option>
    <option value="pink">Pink</option>
    <option value="blue">Blue</option>
    <option value="black">Black</option>
    <option value="yellow">Yellow</option>
    <option value="green">Green</option>
  </select>
  <select class="fonts-size" name="fonts-size" id="fonts-size">
    <option class="active" value="16">16</option>
  </select>
</body>

<script>
  // decleare var
  let fontFamilySelection = document.querySelector(".fonts");
  let fontFamilyOptions = document.querySelectorAll(".fonts option")

  let colorSelection = document.querySelector(".colors");
  let colorOptions = document.querySelectorAll(".colors option")

  let txt = document.querySelector("h1");

  // decleare and Genrate fonts size then append it to document
  let fontSizeSelection = document.querySelector(".fonts-size");
  for (i = 17; i <= 30; i++) {
    sizeOption = document.createElement("option");
    sizeOption.setAttribute("value", i);
    sizeOption.innerHTML = i;
    fontSizeSelection.append(sizeOption);
  }
  let fontSizeOption = document.querySelectorAll(".fonts-size option");

  // If There Is font family In Local Storage
  if (window.localStorage.getItem("fontFamily")) {
    // [1] Add Fonts To Page
    document.body.style.fontFamily = window.localStorage.getItem("fontFamily");
    // [2] Remove Active Class From All elemnts
    fontFamilyOptions.forEach((ele) => {
      ele.classList.remove("active");
    });
    // [3] Add Active Class To Current Color
    document.querySelector(`[value='${window.localStorage.getItem("fontFamily")}']`).classList.add("active");
  }
  // Font Family Changer Event
  fontFamilySelection.addEventListener("change", (e) => {
    // Remove Active Class From All Selections
    fontFamilyOptions.forEach((ele) => {
      ele.classList.remove("active");
    });
    // Add Active Class To Current Selction
    document.querySelector(`[value='${e.currentTarget.value}']`).classList.add("active");
    // Add Current Selection To Local Storage
    window.localStorage.setItem("fontFamily", e.currentTarget.value);
    // Apply the selection
    document.body.style.fontFamily = e.currentTarget.value
  });

  // If There Is Color In Local Storage
  if (window.localStorage.getItem("color")) {
    // [1] Add Color To Text
    txt.style.color = window.localStorage.getItem("color");
    // [2] Remove Active Class From All elements
    colorOptions.forEach((ele) => {
      ele.classList.remove("active");
    });
    // [3] Add Active Class To Current Color
    document.querySelector(`[value='${window.localStorage.getItem("color")}']`).classList.add("active");
  }
  // Color Changer Event
  colorSelection.addEventListener("change", (e) => {
    // Remove Active Class From All Selections
    colorOptions.forEach((ele) => {
      ele.classList.remove("active");
    });
    // Add Active Class To Current Selction
    document.querySelector(`[value='${e.currentTarget.value}']`).classList.add("active");
    // Add Current Selection To Local Storage
    window.localStorage.setItem("color", e.currentTarget.value);
    // Apply the selection
    txt.style.color = e.currentTarget.value;
  });

  // If There Is Font Size In Local Storage
  if (window.localStorage.getItem("fontSize")) {
    // [1] Add Color To Text
    txt.style.fontSize = window.localStorage.getItem("fontSize");
    // [2] Remove Active Class From All elements
    colorOptions.forEach((ele) => {
      ele.classList.remove("active");
    });
    // [3] Add Active Class To Current Color
    document.querySelector(`[value='${window.localStorage.getItem("fontSize")}']`).classList.add("active");
  }
  // Font Size Changer Event
  fontSizeSelection.addEventListener("change", (e) => {
    // Remove Active Class From All Selections
    fontSizeOption.forEach((ele) => {
      ele.classList.remove("active");
    });
    // Add Active Class To Current Selction
    document.querySelector(`[value='${e.currentTarget.value}']`).classList.add("active");
    // Add Current Selection To Local Storage
    window.localStorage.setItem("fontSize", e.currentTarget.value);
    // Apply the selection
    txt.style.fontSize = `${window.localStorage.getItem("fontSize")}px`;
  });
</script>

</html>
